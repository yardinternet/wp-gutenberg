!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.blocks,a=window.React,r=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.serverSideRender,o=e.n(l),s=window.wp.components,c=window.wp.element,i=e=>{const{setAttributes:t,attributes:n}=e,{displayDate:l}=n;return(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Toon datum"),checked:l,onChange:()=>{t({displayDate:!l})}})},u=e=>{const{setAttributes:t,attributes:n}=e,{displayExcerpt:l}=n;return(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Toon samenvatting"),checked:l,onChange:()=>{t({displayExcerpt:!l})}})},p=e=>{const{setAttributes:t,attributes:n}=e,{displayImage:l}=n;return(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Toon afbeelding"),checked:l,onChange:()=>{t({displayImage:!l})}})},m=e=>{const{setAttributes:t,attributes:n}=e,{displayLabel:l}=n;return(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Toon label"),checked:l,onChange:()=>{t({displayLabel:!l})}})},b=e=>{const{setAttributes:t,attributes:n}=e,{enableExcludePosts:l,enableManualSelection:o}=n;return!o&&(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Berichten uitsluiten"),checked:l,onChange:e=>t({enableExcludePosts:e})})},_=e=>{const{setAttributes:t,attributes:n}=e,{displayLabel:l,labelType:o}=n;return l&&(0,a.createElement)(s.SelectControl,{label:(0,r.__)("Label"),value:o,options:[{label:"Standaard",value:"default"}],onChange:e=>t({labelType:e})})},d=e=>{const{setParameter:t,removeParameter:n,setAttributes:l,attributes:o}=e,{enableManualSelection:c}=o;return(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Handmatige selectie"),checked:c,onChange:e=>{l({enableManualSelection:e}),e&&(l({enableStickyPost:!1,enableExcludePosts:!1,enablePostParent:!1}),t("post__in",[]),n("post_parent"),n("tax_query"))}})},y=e=>{const{query:t,setParameter:n}=e;return(0,a.createElement)(s.RangeControl,{label:(0,r.__)("Aantal berichten"),value:t.posts_per_page,min:1,max:100,onChange:e=>n("posts_per_page",e)})},g=e=>{const{query:t,setParameter:n}=e;return(0,a.createElement)(s.RangeControl,{label:(0,r.__)("Afwijking"),value:t.offset,min:0,max:10,onChange:e=>n("offset",e)})},h=e=>{const{query:t,setParameter:n}=e;return"rand"!==t.orderby&&(0,a.createElement)(s.SelectControl,{label:(0,r.__)("Volgorde"),value:t.order,options:[{label:(0,r.__)("Oplopend"),value:"ASC"},{label:(0,r.__)("Aflopend"),value:"DESC"}],help:(()=>{switch(t.orderby){case"date":case"event_date":return"ASC"===t.order?"Oud - Nieuw":"Nieuw - Oud";case"title":return"ASC"===t.order?"A - Z":"Z - A";case"menu_order":return"ASC"===t.order?"1 - 100":"100 - 1";default:return""}})(),onChange:e=>n("order",e)})};const v=[{label:(0,r.__)("Publicatiedatum"),value:"date"},{label:(0,r.__)("Titel"),value:"title"},{label:(0,r.__)("Attribuut volgorde"),value:"menu_order"},{label:(0,r.__)("Willekeurig"),value:"rand"}],E={label:(0,r.__)("Event datum"),value:"event_date"};var P=e=>{const{query:t,setParameter:n}=e,[l,o]=(0,c.useState)(v);return(0,c.useEffect)((()=>{t.post_type.includes("tribe_events")&&!l.includes(E)&&o([...l,E]),!t.post_type.includes("tribe_events")&&l.includes(E)&&o(v)}),[t.post_type]),(0,a.createElement)(s.SelectControl,{label:(0,r.__)("Sorteer op"),value:t.orderby,options:l,onChange:e=>n("orderby",e)})};const w=e=>e.map((e=>({value:e.id,label:`#${e.id}: ${e.title}`})));var C=window.wp.apiFetch,f=e.n(C);const S=(e="",t="any")=>f()({path:`wp/v2/search?subtype=${t}&search=${e}&per_page=100`}),q=(e="")=>f()({path:`wp/v2/search?include=${e}`});var k=e=>{const{query:t,setParameter:n,attributes:l}=e,{postParentOption:o,enableManualSelection:i,enablePostParent:u}=l,[p,m]=(0,c.useState)([]);(0,c.useEffect)((()=>{t.post_parent&&0!==t.post_parent&&b()}),[t.post_parent]);const b=async()=>{const e=await q(t.post_parent);m(w(e))};return!i&&u&&"specific-parent"===o&&(0,a.createElement)(s.ComboboxControl,{label:(0,r.__)("Selecteer berichten"),hideLabelFromVision:!0,value:t.post_parent,options:p,onChange:e=>n("post_parent",e),help:(0,r.__)("Selecteer het hoofdbericht waar de subberichten van getoond moeten worden."),onFilterValueChange:async e=>{let a="any";t.post_type.length>0&&(a=t.post_type.join(","));const r=await S(e,a);m(w(r))}})},A=e=>{const{setParameter:t,removeParameter:n,setAttributes:l,attributes:o}=e,{postParentOption:c,enableManualSelection:i,enablePostParent:u}=o;return!i&&u&&(0,a.createElement)(s.RadioControl,{label:(0,r.__)("Hoofd- en subberichten"),hideLabelFromVision:!0,selected:c,options:[{label:(0,r.__)("Toon alleen hoofdberichten"),value:"only-parents"},{label:(0,r.__)("Toon subberichten van een specifieke hoofdbericht"),value:"specific-parent"}],onChange:e=>{l({postParentOption:e}),"only-parents"===e?t("post_parent",0):n("post_parent")}})},x=e=>{const{removeParameter:t,setAttributes:n,attributes:l}=e,{enablePostParent:o,enableManualSelection:c}=l;return!c&&(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Filter op hoofdbericht"),checked:o,onChange:e=>{n({enablePostParent:e}),e||t("post_parent")}})},T=window.wp.hooks;const O=["attachment","nav_menu_item","post","tribe_organizer","tribe_venue","visibility_preset","wp_block","wp_navigation","wp_template","wp_template_part","yard-pattern"];var H=e=>{const{query:t,setParameter:n}=e,[l,o]=(0,c.useState)([]);(0,c.useEffect)((()=>{i()}),[]);const i=async()=>{const e=((e=[])=>e.map((e=>({label:e.name.replace("&#39;","'"),value:e.slug}))))(((e={})=>{const t=(0,T.applyFilters)("yard-gutenberg.query-exclude-post-types",O);return Object.keys(e).filter((e=>-1===t.indexOf(e))).map((t=>e[t]))})(await f()({path:"wp/v2/types?per_page=100"})));o(e)};return l.length>0?(0,a.createElement)(s.SelectControl,{multiple:!0,label:(0,r.__)("Selecteer content type"),value:t.post_type,options:l,onChange:e=>n("post_type",e)}):(0,a.createElement)(s.Spinner,null)},V=e=>{const{query:t,setParameter:n,attributes:l}=e,{enableStickyPost:o}=l,[i,u]=(0,c.useState)([]);(0,c.useEffect)((()=>{t.post__in&&p()}),[]);const p=async()=>{const e=await q(t.post__in[0]);u(w(e))};return o&&(0,a.createElement)(s.ComboboxControl,{label:(0,r.__)("Selecteer bericht"),hideLabelFromVision:!0,value:t.post__in?t.post__in[0]:"",options:i,onChange:e=>n("post__in",[e]),help:(0,r.__)("Selecteer het bericht dat als eerste in de lijst moet worden weergegeven."),onFilterValueChange:async e=>{let a="any";t.post_type.length>0&&(a=t.post_type.join(","));const r=await S(e,a);u(w(r))}})},M=e=>{const{setParameter:t,setAttributes:n,attributes:l}=e,{enableStickyPost:o,enableManualSelection:c}=l;return!c&&(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Klevend bericht"),checked:o,onChange:e=>{n({enableStickyPost:e}),e||t("post__in",[])}})},z=e=>{const{removeParameter:t,setAttributes:n,attributes:l}=e,{enableTaxonomies:o}=l;return(0,a.createElement)(s.ToggleControl,{label:(0,r.__)("Filter op taxonomie"),checked:o,onChange:e=>{n({enableTaxonomies:e}),e||t("tax_query")}})};const F=["category","nav_menu","post_tag","yard-pattern-category"];var j=e=>{const{query:t,removeParameter:r,setAttributes:n,attributes:l}=e,{enableTaxonomies:o,enableManualSelection:s}=l,[i,u]=(0,c.useState)([]);(0,c.useEffect)((()=>{p()}),[t.post_type]);const p=async()=>{const e=((e={})=>{const t=(0,T.applyFilters)("yard-gutenberg.query-exclude-taxonomies",F);return Object.keys(e).filter((e=>-1===t.indexOf(e))).map((t=>e[t]))})(await((e="")=>f()({path:`wp/v2/taxonomies?type=${e}&per_page=100`}))(t.post_type.join(",")));u(e)};return!s&&0!==i.length&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(z,{removeParameter:r,...e}),o&&i.map((e=>(0,a.createElement)("p",{key:e.slug},e.name))))},B=e=>{const{setAttributes:t,attributes:n}=e,{template:l}=n;return(0,a.createElement)(s.SelectControl,{label:(0,r.__)("Sjabloon"),value:l,options:[{label:"Standaard",value:"default"}],onChange:e=>t({template:e})})};const L="add_query_parameter",R="remove_query_parameter",$=function(e,t){switch(t.type){case L:return Object.assign({},e,t.payload);case R:const{[t.payload]:a,...r}=e;return r;default:throw new Error(`queryReducer does not support action type "${t.type}".`)}};var I=e=>{const{setAttributes:t,attributes:l}=e,{query:o}=l,{queryState:v,setParameter:E,removeParameter:w}=((e={})=>{const[t,a]=(0,c.useReducer)($,e);return{queryState:t,setParameter:(e,t)=>a({type:L,payload:{[e]:t}}),insertParameters:e=>a({type:L,payload:e}),removeParameter:e=>a({type:R,payload:e})}})(o);return(0,c.useEffect)((()=>{t({query:v})}),[JSON.stringify(v)]),(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(s.PanelBody,{title:(0,r.__)("Instellingen"),initialOpen:!0},(0,a.createElement)(H,{query:v,setParameter:E}),o.post_type.length>0&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(y,{query:v,setParameter:E}),(0,a.createElement)(g,{query:v,setParameter:E}),(0,a.createElement)(P,{query:v,setParameter:E}),(0,a.createElement)(h,{query:v,setParameter:E}))),o.post_type.length>0&&(0,a.createElement)(s.PanelBody,{title:(0,r.__)("Filters"),initialOpen:!1},(0,a.createElement)(d,{setParameter:E,removeParameter:w,...e}),(0,a.createElement)(M,{setParameter:E,...e}),(0,a.createElement)(V,{query:v,setParameter:E,...e}),(0,a.createElement)(b,{...e}),(0,a.createElement)(x,{removeParameter:w,...e}),(0,a.createElement)(A,{setParameter:E,removeParameter:w,...e}),(0,a.createElement)(k,{query:v,setParameter:E,...e}),(0,a.createElement)(j,{query:v,setParameter:E,removeParameter:w,...e})),(0,a.createElement)(s.PanelBody,{title:(0,r.__)("Weergave"),initialOpen:!1},(0,a.createElement)(B,{...e}),(0,a.createElement)(p,{...e}),(0,a.createElement)(i,{...e}),(0,a.createElement)(u,{...e}),(0,a.createElement)(m,{...e}),(0,a.createElement)(_,{...e})))},N={src:(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},(0,a.createElement)("path",{d:"M40 160c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8H88c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H40zM0 168c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V168zM40 320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8H88c4.4 0 8-3.6 8-8V328c0-4.4-3.6-8-8-8H40zM0 328c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V328zM248 160H200c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm-48-32h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V168c0-22.1 17.9-40 40-40zm0 192c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V328c0-4.4-3.6-8-8-8H200zm-40 8c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V328zM408 160H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm-48-32h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V168c0-22.1 17.9-40 40-40zm0 192c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V328c0-4.4-3.6-8-8-8H360zm-40 8c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V328z"})),foreground:"#00a49e"},D=JSON.parse('{"u2":"yard-gutenberg/query"}');(0,t.registerBlockType)(D.u2,{edit:e=>{const{attributes:t}=e;return(0,a.createElement)("div",{...(0,n.useBlockProps)()},(0,a.createElement)(I,{...e}),(0,a.createElement)(o(),{block:"yard-gutenberg/query",attributes:t}))},icon:N})}();