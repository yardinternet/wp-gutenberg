(()=>{"use strict";const e=window.wp.blocks,t=window.React,c=window.wp.blockEditor,l=window.wp.element,r=window.wp.data,n=window.wp.editor,o=(window.wp.coreData,window.wp.components),s=({currentSlide:e,innerBlocks:c,selectSlide:l,insertSlide:r})=>(0,t.createElement)(o.ButtonGroup,null,c?.map(((c,r)=>(0,t.createElement)(o.Button,{key:c.clientId,variant:c.clientId===e?"primary":"secondary",onClick:()=>l(c.clientId)},r+1))),(0,t.createElement)(o.Button,{variant:"secondary",onClick:r},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,t.createElement)("path",{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})))),i=[["yard/slide"]],a=["yard/slide"],d=window.wp.compose,u=window.wp.hooks,m=window.wp.i18n,p=((0,d.createHigherOrderComponent)((e=>c=>{const{media:s}=c,{currentPostType:i}={currentPostType:(0,r.useSelect)((e=>e(n.store).getCurrentPostType()))},[a,d]=(e=>{const t=(0,r.useSelect)((e=>e(n.store).getEditedPostAttribute("meta"))),{editPost:c}=(0,r.useDispatch)(n.store),o=(0,l.useCallback)((t=>c({meta:{[e]:t}})),[c,e]);return[t?.[e],o]})("featured_image_focal_point"),p=(0,u.applyFilters)("yard.featured-image-focal-point-picker-allowed-post-types",[]),w=(0,l.useCallback)(((e={x:.5,y:.5})=>{d(e)}),[d]);return(0,l.useEffect)((()=>{0===a?.length&&w()}),[a,w]),p.includes(i)&&a&&s?.source_url?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,{...c}),(0,t.createElement)("div",{style:{marginTop:"1rem"}},(0,t.createElement)(o.FocalPointPicker,{label:(0,m.__)("Kies een focuspunt voor de uitgelichte afbeelding."),url:s?.source_url,value:a,onChange:w,onDrag:w}))):(0,t.createElement)(e,{...c})}),"FeaturedImageFocalPointPicker"),window.wp.notices,{src:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},(0,t.createElement)("path",{d:"M224 272V224H448v48 80H224V272zm0-80V144 64H448v80 48H224zM464 32H448 224 208 192 160c-35.3 0-64 28.7-64 64v32 16 16 96 16 16 32c0 35.3 28.7 64 64 64h32 16 16H448h16 16 32c35.3 0 64-28.7 64-64V288 272 256 160 144 128 96c0-35.3-28.7-64-64-64H480 464zM160 64h32v64H128V96c0-17.7 14.3-32 32-32zm-32 96h64v48 48H128V160zm0 160V288h64v64H160c-17.7 0-32-14.3-32-32zm384 32H480V288h64v32c0 17.7-14.3 32-32 32zm32-96H480V208 160h64v96zm0-128H480V64h32c17.7 0 32 14.3 32 32v32zM32 112c0-8.8-7.2-16-16-16s-16 7.2-16 16V352c0 70.7 57.3 128 128 128H464c8.8 0 16-7.2 16-16s-7.2-16-16-16H128c-53 0-96-43-96-96V112z"})),foreground:"#00a49e"});(0,e.registerBlockType)("yard/slider",{edit:n=>{const{setAttributes:o,clientId:d}=n,[u,m]=(0,l.useState)(null),{currentBlockInnerBlocks:p}=(()=>{const{clientId:e}=(0,c.useBlockEditContext)(),t=(0,r.useSelect)((t=>t(c.store).getBlock(e))),n=(0,l.useMemo)((()=>{var e;return null!==(e=t.innerBlocks)&&void 0!==e?e:[]}),[t.innerBlocks]),o=(0,r.useSelect)((e=>e(c.store).getBlockAttributes(t.clientId))),s=(0,r.useSelect)((e=>e(c.store).hasSelectedInnerBlock(t.clientId,!0))),{updateBlockAttributes:i}=(0,r.useDispatch)(c.store),a=(0,l.useCallback)((e=>{n.forEach((t=>i(t.clientId,e)))}),[n,i]);return{currentBlock:t,currentBlockAttributes:o,currentBlockInnerBlocks:n,currentBlockHasSelectedInnerBlock:s,setAllCurrentBlockInnerBlocksAttributes:a}})(),w=(0,r.useSelect)((e=>e("core/block-editor").getSelectedBlockClientId())),{insertBlock:k,selectBlock:B}=(0,r.useDispatch)("core/block-editor"),v=()=>{const t=(0,e.createBlock)("yard/slide");k(t,p.length,d),m(t.clientId)},h=e=>{m(e),B(e)};return(0,l.useEffect)((()=>{p.length>0&&!u&&m(p[0].clientId)}),[p]),(0,l.useEffect)((()=>{o({activeSlide:u})}),[u]),(0,l.useEffect)((()=>{p.some((e=>e.clientId===w))&&m(w)}),[p,w]),(0,t.createElement)("div",{...(0,c.useBlockProps)()},(0,t.createElement)(s,{currentSlide:u,innerBlocks:p,selectSlide:h,insertSlide:v}),(0,t.createElement)(c.InnerBlocks,{renderAppender:!1,allowedBlocks:a,defaultBlock:a,template:i,templateLock:!1}),(0,t.createElement)(s,{currentSlide:u,innerBlocks:p,selectSlide:h,insertSlide:v}))},icon:p,save:()=>{const e=c.useBlockProps.save({className:"splide"});return(0,t.createElement)("div",{...e},(0,t.createElement)("div",{className:"splide__track"},(0,t.createElement)("ul",{className:"splide__list"},(0,t.createElement)(c.InnerBlocks.Content,null))))},providesContext:{"yard/slider-active-slide":"activeSlide"}})})();